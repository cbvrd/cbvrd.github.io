<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVA KRIS TYSON: DISCORD LEAK</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=VT323&display=swap">
    <style>
        body {
            font-family: 'VT323', monospace;
            background-color: #000000;
            color: #00ff00;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            text-align: center;
            overflow: hidden;
            padding: 20px;
        }

        .title {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .buttons a {
            text-decoration: none;
            padding: 10px 20px;
            background-color: #555;
            border: 1px solid #00ff00;
            color: #00ff00;
            font-size: 1.2rem;
            display: inline-block;
        }

        .buttons a:hover {
            background-color: #333;
        }

        .note {
            font-size: 1.2rem;
            color: #00ff00;
            margin-top: 20px;
        }

        .search-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .search-bar input {
            padding: 10px;
            width: 300px;
            font-family: 'VT323', monospace;
            font-size: 1.2rem;
            background-color: #222;
            border: 1px solid #00ff00;
            color: #00ff00;
        }

        .search-bar button {
            margin-top: 10px;
            padding: 10px 20px;
            font-family: 'VT323', monospace;
            font-size: 1.2rem;
            background-color: #555;
            border: 1px solid #00ff00;
            color: #00ff00;
            cursor: pointer;
        }

        .alert {
            font-size: 2rem;
            color: #ff0000;
            margin-top: 20px;
        }

        .alert-subtext {
            font-size: 1.2rem;
            color: #ff0000;
            margin-top: 10px;
            max-width: 80%;
        }

        .download-button {
            text-decoration: none;
            padding: 10px 20px;
            background-color: #555;
            border: 1px solid #00ff00;
            color: #00ff00;
            font-size: 1.2rem;
            display: inline-block;
            margin-top: 20px;
        }

        .download-button:hover {
            background-color: #333;
        }

        .results {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .results a {
            text-decoration: none;
            padding: 10px 20px;
            background-color: #555;
            border: 1px solid #00ff00;
            color: #00ff00;
            font-size: 1.2rem;
        }

        .results a:hover {
            background-color: #333;
        }

        .frame {
            margin-top: 20px;
            width: 80%;
            height: 300px;
            border: 1px solid #00ff00;
            overflow: auto;
            background-color: #111;
            padding: 10px;
            box-sizing: border-box;
            display: none;
        }

        /* Container for each message */
        .chatlog__messages {
            border: 1px solid #00ff00;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #222;
            color: #00ff00;
        }

        /* Author name and timestamp container */
        .chatlog__header {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

        /* Author name */
        .chatlog__author-name {
            font-weight: bold;
            color: #7289da; /* Discord-like username color */
        }

        /* Timestamp */
        .chatlog__timestamp {
            font-size: 0.9rem;
            color: #72767d; /* Discord-like timestamp color */
            margin-left: 10px;
        }

        /* Message content */
        .chatlog__message {
            margin-top: 5px;
        }

        /* Message content text */
        .chatlog__content {
            font-size: 1rem;
            line-height: 1.5;
        }

        /* Mention within message content */
        .markdown .mention {
            color: #7289da;
            font-weight: bold;
        }

        /* Edited timestamp */
        .chatlog__edited-timestamp {
            font-size: 0.8rem;
            color: #72767d;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="title">AVA KRIS TYSON: DISCORD LEAK</div>
    <div class="buttons">
        <a href="1.html">Page 1</a>
        <a href="2.html">Page 2</a>
        <a href="3.html">Page 3</a>
        <a href="4.html">Page 4</a>
        <a href="5.html">Page 5</a>
        <a href="6.html">Page 6</a>
        <a href="7.html">Page 7</a>
        <a href="8.html">Page 8</a>
    </div>
    <div class="note">
        For optimal viewing on a mobile device, please rotate your phone to landscape mode.
        <br>
        Please note: The search feature may take some time to analyze the files and might not always work perfectly.
        <br>
        For an unknown reason, sometimes a blank page appears after opening one of the pages, in that case, refresh the site
    </div>
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search...">
        <button onclick="performSearch()">Search</button>
    </div>
    <div class="alert">MRBEAST IS TRYING TO SILENCE US!!!</div>
    <div class="alert-subtext">MrBeast is actively taking down all the websites hosting this leak. To help spread the truth, you can download the full website and host it yourself. This way, he won't be able to silence us all because there will be too many of us.</div>
    <a href="/download" class="download-button">Download</a>
    <div class="results" id="results"></div>
    <div class="frame" id="frame"></div>

    <script>
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim().toLowerCase();
            const resultsDiv = document.getElementById('results');
            const frameDiv = document.getElementById('frame');
            resultsDiv.innerHTML = '';
            frameDiv.innerHTML = '';
            frameDiv.style.display = 'none';

            if (searchTerm) {
                for (let i = 1; i <= 8; i++) {
                    const page = `${i}.html`;
                    fetch(page)
                        .then(response => response.text())
                        .then(data => {
                            if (data.toLowerCase().includes(searchTerm)) {
                                const resultLink = document.createElement('a');
                                resultLink.href = `${page}?search=${searchTerm}`;
                                resultLink.textContent = `Page ${i}`;
                                resultLink.onclick = function(event) {
                                    event.preventDefault();
                                    displaySearchResults(page, searchTerm);
                                };
                                resultsDiv.appendChild(resultLink);
                            }
                        })
                        .catch(error => console.error('Error fetching the page:', error));
                }
            }
        }

        function displaySearchResults(page, searchTerm) {
            const frameDiv = document.getElementById('frame');
            frameDiv.innerHTML = '';
            frameDiv.style.display = 'block';
            fetch(page)
                .then(response => response.text())
                .then(data => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(data, 'text/html');
                    const messages = doc.querySelectorAll('.chatlog__messages');
                    let resultsFound = false;

                    messages.forEach(message => {
                        const authorName = message.querySelector('.chatlog__author-name').textContent;
                        const timestamp = message.querySelector('.chatlog__timestamp').textContent;
                        const content = message.querySelector('.chatlog__content').innerHTML;

                        if (content.toLowerCase().includes(searchTerm)) {
                            resultsFound = true;
                            const highlightedContent = content.replace(new RegExp(searchTerm, 'gi'), match => `<mark>${match}</mark>`);
                            frameDiv.innerHTML += `
                                <div class="chatlog__messages">
                                    <div class="chatlog__header">
                                        <span class="chatlog__author-name">${authorName}</span>
                                        <span class="chatlog__timestamp">${timestamp}</span>
                                    </div>
                                    <div class="chatlog__message">
                                        <div class="chatlog__content">${highlightedContent}</div>
                                    </div>
                                </div>`;
                        }
                    });

                    if (!resultsFound) {
                        frameDiv.innerHTML = 'No results found.';
                    }
                })
                .catch(error => console.error('Error fetching the page:', error));
        }

        function highlightSearchTerm() {
            const urlParams = new URLSearchParams(window.location.search);
            const searchTerm = urlParams.get('search');
            if (searchTerm) {
                const bodyText = document.body.innerHTML;
                const highlightedText = bodyText.replace(new RegExp(searchTerm, 'gi'), match => `<mark>${match}</mark>`);
                document.body.innerHTML = highlightedText;
            }
        }

        if (window.location.search.includes('search=')) {
            highlightSearchTerm();
        }
    </script>
</body>
</html>